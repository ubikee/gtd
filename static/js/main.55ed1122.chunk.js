(this.webpackJsonpgtd=this.webpackJsonpgtd||[]).push([[0],{107:function(e,t,n){e.exports=n(256)},252:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),i=(n(62),n(3)),u=n(4),s=n.n(u),l=n(9),p=n(13),f=n(31),d=n.n(f);Object(i.g)(Object({NODE_ENV:"production",PUBLIC_URL:"/gtd",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API,i.k);d.a.initializeApp({apiKey:"AIzaSyBKZERFFQxaw3wQJxkGltdgMEvQtrYOKJU",authDomain:"tasks-35737.firebaseapp.com",databaseURL:"https://tasks-35737.firebaseio.com",projectId:"tasks-35737",storageBucket:"tasks-35737.appspot.com",messagingSenderId:"743247988916",appId:"1:743247988916:web:3d6f934f5f412d31a06fe1"});var m={collection:null,login:function(e,t,n){d.a.auth().onAuthStateChanged((function(e){e&&n(e)})),d.a.auth().signInWithEmailAndPassword(e,t)},init:function(){this.collection=d.a.firestore().collection("tasks")},tasks:function(){var e=this;return Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collection.get().then((function(e){return e.docs.map((function(e){return Object.assign({},e.data(),{id:e.id})}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},task:function(e){var t=this;return Object(l.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.collection.doc(e).get().then((function(e){return Object.assign({},e.data(),{id:e.id})}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},addTask:function(e){var t=this;return Object(l.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.collection.add(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},updateTask:function(e,t){var n=this;return Object(l.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.collection.doc(e).update(t).then((function(t){console.log("updated",e)}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},deleteTask:function(e){var t=this;return Object(l.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.collection.doc(e).delete().then((function(t){console.log("deleted",e)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},b=r.a.createContext(),O=function(e){var t=e.children,n=Object(a.useState)(!1),c=Object(p.a)(n,2),o=c[0],i=c[1],u=Object(a.useState)([]),f=Object(p.a)(u,2),d=f[0],O=f[1],h=Object(a.useState)(),E=Object(p.a)(h,2),j=E[0],k=E[1];function v(){return(v=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){m.init(),i(!0)},m.login(t,n,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.tasks();case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.task(t);case 2:n=e.sent,k(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state="INBOX",t.created=(new Date).toDateString(),e.next=4,m.addTask(t);case 4:g();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("update",t,n),e.next=3,m.updateTask(t,n);case 3:g();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.deleteTask(t);case 2:g();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C={logged:o,login:function(e,t){return v.apply(this,arguments)},tasks:d,task:j,loadTasks:g,selectTask:function(e){return x.apply(this,arguments)},createTask:function(e){return S.apply(this,arguments)},updateTask:function(e,t){return T.apply(this,arguments)},deleteTask:function(e){return y.apply(this,arguments)}};return r.a.createElement(b.Provider,{value:C},t)},h=function(e){var t=e.onOK,n=Object(a.useContext)(i.m),c=Object(a.useState)(),o=Object(p.a)(c,2),u=o[0],s=o[1],l=Object(a.useState)(!1),f=Object(p.a)(l,2),d=f[0],m=f[1],b=r.a.createElement(a.Fragment,null,r.a.createElement(i.d,{action:"CLOSE"},"Cancel"),r.a.createElement(i.d,{action:"OK",isDefaultAction:!0,raised:!0,disabled:!d},"OK"));return r.a.createElement(i.c,{title:"Captura",open:!0,onAction:function(e){"OK"===e&&t&&t(u),n.closeDialog()},actions:b},r.a.createElement("br",null),r.a.createElement(i.f,{columns:1,outlined:!0,onChange:function(e,t){s(e),m(t)}},r.a.createElement(i.o,{span:"1",id:"description",label:"\xbf Qu\xe9 quieres hacer ?",required:!0})))},E=(n(252),function(){var e=Object(a.useContext)(b),t=Object(a.useState)(),n=Object(p.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(!1),f=Object(p.a)(u,2),d=f[0],m=f[1],O=e.task;function h(){return(h=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(O),t.next=3,e.updateTask(O.id,c);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){o(O)}),[O]),c?r.a.createElement("div",{className:"task-editor"},r.a.createElement("main",null,r.a.createElement(i.f,{onChange:function(e,t){o(Object.assign({},c,e)),m(t)}},r.a.createElement(i.o,{span:"1",id:"description",label:"\xbf Qu\xe9 quieres hacer ?",required:!0,value:c.description}))),r.a.createElement("footer",null,r.a.createElement(i.a,{label:"Guardar",disabled:!d,action:function(){return h.apply(this,arguments)}}))):r.a.createElement("div",null,"vacio")}),j=function(){var e=Object(a.useContext)(i.m),t=Object(a.useContext)(b);function n(){return(n=Object(l.a)(s.a.mark((function n(a){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.confirm("Se va a Eliminar","\xbf Estas seguro ?");case 2:!0===n.sent&&t.deleteTask(a);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}Object(a.useEffect)((function(){t.loadTasks()}),[]);var c={columns:[{id:"description",label:"Descripci\xf3n"},{id:"action"}],rows:t.tasks.filter((function(e){return"INBOX"===e.state})).map((function(e){return e.action=r.a.createElement(i.i,{icon:"delete",clickable:!0,action:function(){return function(e){return n.apply(this,arguments)}(e.id)}}),e}))},o=r.a.createElement(i.n,{use:"headline6"},"Bandeja");return r.a.createElement(a.Fragment,null,r.a.createElement(i.h,{icon:{icon:"inbox"},title:o},r.a.createElement(i.a,{label:"Capturar",action:function(){e.openDialog(r.a.createElement(h,{onOK:function(e){return t.createTask(e)}}))},raised:!0})),r.a.createElement("main",null,r.a.createElement(i.b,Object.assign({},c,{onRowSelection:function(e){t.selectTask(e.id)}}))),r.a.createElement("aside",null,r.a.createElement(E,null)))},k=function(e){var t=e.user,n=void 0===t?"":t,c=e.pwd,o=void 0===c?"":c,u=Object(a.useContext)(i.m),s=Object(a.useContext)(b),l=s.logged,f=Object(a.useState)(n),d=Object(p.a)(f,2),m=d[0],O=d[1],h=Object(a.useState)(o),E=Object(p.a)(h,2),j=E[0],k=E[1];Object(a.useEffect)((function(){v()}),[]),Object(a.useEffect)((function(){l&&u.goto("INBOX")}),[l]);var v=function(){s.login(m,j)};return r.a.createElement("div",null,r.a.createElement(i.e,{label:"E-mail",value:m,onChange:function(e,t){return O(t)}}),r.a.createElement(i.e,{label:"Password",value:j,onChange:function(e,t){return k(t)}}),r.a.createElement(i.a,{label:"SIGN IN",action:v}))},v=function(){return r.a.createElement(i.l,{title:"Ubikee GTD",init:"LOGIN",min:!0},r.a.createElement(i.j,{id:"INBOX",section:"AGENT",icon:"inbox",title:"Bandeja",layout:"workspace"},r.a.createElement(j,null)),r.a.createElement(i.j,{id:"LOGIN",section:"APP",icon:"exit_to_app",layout:"page"},r.a.createElement(k,{landingPage:"INBOX",user:"jeroldan@ywana.com",pwd:"12345678"})))},g=function(e){return r.a.createElement(O,null,r.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(253),n(254),n(255);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.55ed1122.chunk.js.map